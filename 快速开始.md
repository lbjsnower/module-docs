# 关于模块 {moduleDoc1}

待添加

# 从 github 导入 {moduledoc1}
如果你是一个人工智能和机器学习的资深玩家，想必一定有不少模型托管在 github 上。现在，你可以非常方面的将他们迁移到 mo 平台上，通过部署与公开让你的项目“活起来”，让更多的人基于此制造出更多更好玩的App。
点击`新建模块`，选择 `从 github 创建`，输入你的 git repo 的地址，你的项目将自动的下载到新创建的模块项目中。 随后，进入 notebook 进行调试，部署，即可。

# 举例 {moduledoc1}
在 mo 平台构建一个全新的模块也很简单，首先，点击`新建模块`，选择`空白项目`，即可轻松创建新的模块项目。创建完成后， 将自动进入 notebook， 这时，即可进行开发了。
这里，我们以开发一个简单的数据处理功能（min-max 转换）为例，介绍如何快速开发一个模块。
进入模块项目的 notebook 后，在 Untitle.ipynb 中，
开发功能
```
input_list = [1,2,3,4]

import numpy as np
input_list = np.array(input_list)
max_value = max(input_list)
min_value = min(input_list)
res = (input_list-min_value) / (max_value-min_value)
res.tolist()
```

开发完毕后，双击 main.py, 这个文件包含了模块部署的标准代码框架。可以看到，模块以 class 的形式存在，我们根据模块的实际需要，去编写对应的 train， predict 和  load_model方法。因为我们的 min-max 缩放转换功能不需要用到机器学习模型，所以不需要开发 train 方法和 load_model方法。我们在 predict 方法中， 填入刚才我们开发的代码。注意，我们需要从 conf 中获取我们的输入参数。然后把处理结果以 key value 的形式返回。
```python
    def predict(self, conf={}):
        input_list = np.array(conf['input_list'])
        max_value = max(input_list)
        min_value = min(input_list)
        res = (input_list-min_value) / (max_value-min_value)
        res = res.tolist()
        return {'res': res}
```


完成后，接下来，编写 `module_spec.yml`文件。yml 文件定义了模块的输入输出参数。我们在`predict`部分填写输入参数的名称、类型和默认值等信息。

```yaml
  predict:
   input_list:
     <<: *default
     value_type: "[float]"
     default_value: "[1.0,2.0,3.0,4.0,5.0]"
```

我们在`outpu`部分填写我们的输出的名称和类型信息。
```yaml
output:
  predict:
   res:
     value_type: "[float]"
```


接下来,可以对`main.py`进行测试了。在左侧的文件列表中双击打开`test.ipynb`。这是我们的测试文件。在这里，我们将模拟模块发后被调用的情况。因为我们开发min-max 转换模块不涉及 ```train``` 方法，所以
无需对其进行测试。我们使用如下代码对 ```predict``` 方法进行一个简单的测试。


```python
input_list = [1,2,3,4,5]
res = module.predict({"input_list": input_list})
print(res)
```

如果看到打印出如下结果，说明模块通过了测试。
```python
{'res': [0.0, 0.25, 0.5, 0.75, 1.0]}
```

测试通过后，我们就可以进行部署了。点击左侧状态栏的`部署`， 点击第四步，`部署`。
选择 `main.py`，
`module_spec.yml`，`OVERVIEW.md`等部署需要的文件， 选择发布的版本为`0.0.1` ，选择项目领域为`数据处理`。然后点击部署。至此，我们就完成了一个简单的模块的开发和部署。
